(this["webpackJsonpsecret-share"]=this["webpackJsonpsecret-share"]||[]).push([[0],{207:function(e,o,t){},235:function(e,o){},237:function(e,o){},247:function(e,o){},251:function(e,o){},253:function(e,o){},254:function(e,o){},256:function(e,o){},257:function(e,o){},259:function(e,o){},261:function(e,o){},287:function(e,o){},289:function(e,o){},290:function(e,o){},291:function(e,o){},300:function(e,o){},302:function(e,o){},303:function(e,o){},304:function(e,o){},308:function(e,o){},309:function(e,o){},311:function(e,o){},315:function(e,o){},318:function(e,o){},320:function(e,o){},322:function(e,o){},376:function(e,o){},378:function(e,o){},379:function(e,o){},384:function(e,o){},386:function(e,o){},405:function(e,o){},417:function(e,o){},420:function(e,o){},425:function(e,o){},426:function(e,o){},429:function(e,o){},433:function(e,o,t){"use strict";t.r(o);var n=t(0),r=t.n(n),c=t(194),i=t.n(c),u=(t(205),t(206),t(207),t(15));var a=t(10);var d=t(195),l=t.n(d);function s(e,o){return l()(e,o,{arrayMerge:function(e,o){return o}})}var b=t(1);function f(e){var o=e.children,t=s({spacing:{default:4}},"dark"===function(){var e=window.matchMedia("(prefers-color-scheme: dark)"),o=Object(n.useState)(e.matches?"dark":"light"),t=Object(u.a)(o,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){var o=function(e){c(e.matches?"dark":"light")};return e.addEventListener("change",o),function(){e.removeEventListener("change",o)}})),{colorScheme:r}}().colorScheme?{backgroundColor:"#36454f",common:{focus:{boxShadow:"0 0 0 0.2rem #c9bab040"}},button:{backgroundColor:"#c9bab0",borderColor:"#c9bab0",color:"#434343"},input:{borderColor:"#ffffff1f",color:"rgba(0,0,0,0.8)",readonly:{color:"#c7c9d5"},focus:{borderColor:"#e4ddd8"},hover:{backgroundColor:"#303e47"}},toast:{style:{backgroundColor:"#36454f",color:"#c7c9d5"},success:{iconTheme:{primary:"#61d345",secondary:"white"},style:{borderWidth:2,borderColor:"#61d345",borderStyle:"solid"}}}}:{backgroundColor:"white",common:{focus:{boxShadow:"0 0 0 0.2rem #007bff40"}},button:{backgroundColor:"#007bff",borderColor:"#007bff",color:"white"},input:{borderColor:"rgba(0,0,0,0.12)",color:"rgba(0,0,0,0.8)",readonly:{color:"rgba(0,0,0,0.54)"},focus:{borderColor:"#7fbdff"},hover:{backgroundColor:"#F7F7F7"}},toast:{style:{backgroundColor:"#36454f",color:"#c7c9d5"},success:{iconTheme:{primary:"#61d345",secondary:"white"},style:{borderWidth:2,borderColor:"#61d345",borderStyle:"solid"}}}});return Object(b.jsx)(a.b,{theme:t,children:o})}var h=t(26);function v(){var e=Object(n.useContext)(a.a);return Object(b.jsx)(h.a,{toastOptions:e.toast})}var j=a.c.div((function(e){return{backgroundColor:e.theme.backgroundColor,minHeight:"100%"}})),m=t(5),p=a.c.button((function(e){var o,t,n,r,c;return{display:"flex",justifyContent:"center",alignItems:"center",height:42,lineHeight:1,paddingTop:8,paddingBottom:8,paddingLeft:16,paddingRight:16,borderWidth:1,borderStyle:"solid",borderRadius:4,backgroundColor:null===(o=e.theme.button)||void 0===o?void 0:o.backgroundColor,borderColor:null===(t=e.theme.button)||void 0===t?void 0:t.borderColor,color:null===(n=e.theme.button)||void 0===n?void 0:n.color,":focus":{boxShadow:null===(r=e.theme.common)||void 0===r||null===(c=r.focus)||void 0===c?void 0:c.boxShadow},":hover":{filter:"brightness(115%)"},":not(:disabled):active":{filter:"brightness(130%)"},":disabled":{filter:"saturate(0)"}}})),x=a.c.div((function(e){var o,t;return{display:"flex",flexDirection:"column",justifyContent:e.justifyContent,gap:null!==(o=e.gap)&&void 0!==o?o:null===(t=e.theme.spacing)||void 0===t?void 0:t.default}})),g=a.c.input((function(e){var o,t,n,r,c,i,u,a,d,l;return{borderWidth:1,borderStyle:"solid",borderRadius:4,padding:"8px 16px",lineHeight:"1.5",width:"100%",borderColor:null===(o=e.theme.input)||void 0===o?void 0:o.borderColor,color:null===(t=e.theme.input)||void 0===t?void 0:t.color,"&[readonly]":{color:null===(n=e.theme.input)||void 0===n||null===(r=n.readonly)||void 0===r?void 0:r.color},":focus":{borderColor:null===(c=e.theme.input)||void 0===c||null===(i=c.focus)||void 0===i?void 0:i.borderColor,boxShadow:null===(u=e.theme.common)||void 0===u||null===(a=u.focus)||void 0===a?void 0:a.boxShadow},":hover":{backgroundColor:null===(d=e.theme.input)||void 0===d||null===(l=d.hover)||void 0===l?void 0:l.backgroundColor}}})),O=t(199),C=t.n(O),y=Object(a.c)(C.a).attrs((function(e){return{level:e.level||"H",renderAs:"svg"}}))({borderRadius:4,width:"100%",height:"100%"}),w=a.c.div((function(e){var o,t;return{display:"flex",flexDirection:"row",justifyContent:e.justifyContent,gap:null!==(o=e.gap)&&void 0!==o?o:null===(t=e.theme.spacing)||void 0===t?void 0:t.default}})),k=t(36),S=t(47);function W(e){var o=e.onClick,t=e.disabled;return Object(b.jsx)(p,{disabled:t,onClick:o,children:Object(b.jsx)(S.a,{fixedWidth:!0,icon:k.d})})}var R=Object(a.c)(g).attrs({readOnly:!0,type:"text"})({});function E(e){var o=e.value,t=e.message;return Object(b.jsxs)(w,{children:[Object(b.jsx)(R,{value:o}),Object(b.jsx)(L,{value:o,message:t})]})}var B=t(46),H=t.n(B),z=t(200);function I(){return(I=Object(z.a)(H.a.mark((function e(o,t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.clipboard||!window.isSecureContext){e.next=5;break}return e.next=3,navigator.clipboard.writeText(o);case 3:e.next=15;break;case 5:return(n=document.createElement("textarea")).value=o,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select(),e.next=15,new Promise((function(e,o){document.execCommand("copy")?e():o(),n.remove()}));case 15:h.b.success(t);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){var o=e.value,t=e.message||"Copied!";return Object(b.jsx)(p,{onClick:function(){return function(e,o){return I.apply(this,arguments)}(o,t)},children:Object(b.jsx)(S.a,{fixedWidth:!0,icon:k.a})})}var M=a.c.textarea((function(e){var o,t,n,r,c,i,u,a,d,l;return{borderWidth:1,borderStyle:"solid",borderRadius:4,padding:"8px 16px",lineHeight:"1.5",borderColor:null===(o=e.theme.input)||void 0===o?void 0:o.borderColor,color:null===(t=e.theme.input)||void 0===t?void 0:t.color,"&[readonly]":{color:null===(n=e.theme.input)||void 0===n||null===(r=n.readonly)||void 0===r?void 0:r.color},":focus":{borderColor:null===(c=e.theme.input)||void 0===c||null===(i=c.focus)||void 0===i?void 0:i.borderColor,boxShadow:null===(u=e.theme.common)||void 0===u||null===(a=u.focus)||void 0===a?void 0:a.boxShadow},":hover":{backgroundColor:null===(d=e.theme.input)||void 0===d||null===(l=d.hover)||void 0===l?void 0:l.backgroundColor}}})),T=Object(a.c)(M)({height:200,resize:"none"});function F(e){var o=e.className,t=e.value,r=Object(n.useState)(!1),c=Object(u.a)(r,2),i=c[0],a=c[1];return Object(b.jsxs)(x,{className:o,children:[Object(b.jsx)(T,{readOnly:!0,value:i||!t?t:"***"}),Object(b.jsxs)(w,{justifyContent:"space-between",children:[Object(b.jsx)(P,{visible:i,onClick:function(e){return a(!i)}}),Object(b.jsx)(L,{value:t,message:"Copied secret!"})]})]})}function P(e){var o=e.visible,t=e.onClick;return Object(b.jsx)(p,{onClick:t,children:Object(b.jsx)(S.a,{fixedWidth:!0,icon:o?k.c:k.b})})}var U=Object(a.c)(w)((function(e){var o;return{padding:null===(o=e.theme.spacing)||void 0===o?void 0:o.default,justifyContent:"space-around"}})),$=Object(a.c)(x)({maxWidth:400,width:"100%"}),A=t(67),D=t(68),J=function(){function e(){Object(A.a)(this,e)}return Object(D.a)(e,null,[{key:"absolute",value:function(e){var o=document.baseURI.replace(/\/$/,"");return e?"/"!==e.charAt(0)?"".concat(o,"/").concat(e):"".concat(o).concat(e):o}}]),e}(),N=t(69),q=t.n(N);function G(){var e=Object(n.useState)(""),o=Object(u.a)(e,2),t=o[0],r=o[1],c=function(e){var o=e.onSecretReceived,t=Object(n.useState)((function(){return new q.a({announce:["wss://tracker.openwebtorrent.com","wss://tracker.btorrent.xyz"]})})),r=Object(u.a)(t,1)[0],c=r.address();return Object(n.useEffect)((function(){return r.register("shareSecret",(function(e,t,n){var r=t.secret;n({success:o(r)})})),function(){try{r.destroy()}catch(e){}}}),[r,o]),{bugout:r,address:c}}({onSecretReceived:function(e){return r(e),h.b.success("Secret received!"),!0}}).address,i=J.absolute("/".concat(c));return Object(b.jsx)(U,{children:Object(b.jsxs)($,{children:[Object(b.jsx)(y,{value:i}),Object(b.jsx)(E,{value:i,message:"Copied url!"}),Object(b.jsx)(F,{value:t})]})})}var K=Object(a.c)(M)({height:200,resize:"none"});function Q(){var e=window.location.pathname.replace(/^\//,""),o=Object(n.useState)(""),t=Object(u.a)(o,2),r=t[0],c=t[1],i=function(e){var o=Object(n.useState)(!1),t=Object(u.a)(o,2),r=t[0],c=t[1],i=Object(n.useState)((function(){return new q.a(e,{announce:["wss://tracker.openwebtorrent.com","wss://tracker.btorrent.xyz"]})})),a=Object(u.a)(i,1)[0],d=a.address();return Object(n.useEffect)((function(){return a.on("server",(function(e){c(!0),h.b.success("Connected!")})),function(){a.destroy()}}),[a,c]),{bugout:a,ready:r,address:d}}(e),a=i.bugout,d=i.ready;return Object(b.jsx)(U,{children:Object(b.jsxs)($,{children:[Object(b.jsx)(E,{value:window.location.href}),Object(b.jsx)(K,{value:r,onChange:function(e){return c(e.target.value)}}),Object(b.jsx)(W,{disabled:!d,onClick:function(){return function(e,o){e.rpc("shareSecret",{secret:o},(function(e){console.log(61,{result:e})})),h.b.success("Secret shared!")}(a,r)}})]})})}function V(){return Object(b.jsxs)(m.c,{children:[Object(b.jsx)(m.a,{path:"/",element:Object(b.jsx)(G,{})}),Object(b.jsx)(m.a,{path:"/:id",element:Object(b.jsx)(Q,{})}),Object(b.jsx)(m.a,{path:"*",element:Object(b.jsx)("p",{children:"Much wow"})})]})}function X(){return Object(b.jsx)(f,{children:Object(b.jsxs)(j,{children:[Object(b.jsx)(v,{}),Object(b.jsx)(V,{})]})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=t(104),Z=function(){function e(){Object(A.a)(this,e)}return Object(D.a)(e,null,[{key:"getBasePath",value:function(){return new URL(document.baseURI).pathname.replace(/\/$/,"")}}]),e}().getBasePath(),_=document.getElementById("root");i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(Y.a,{basename:Z,children:Object(b.jsx)(X,{})})}),_),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[433,1,2]]]);
//# sourceMappingURL=main.38397491.chunk.js.map